-- Απενεργοποιούμε αυτό το setting της postgres για να μην χρησιμοποιεί
-- τον δικό της αλγόριθμο sequence scan στα queries που τρέχουμε.


SET enable_seqscan = off;


-- Ορίζουμε ένα multicolumn index εφόσον κάνουμε GROUP BY με δυο πεδία.
-- Όπως και στο πρώτο index, μας συμφέρει να χρησιμοποιούμε το btree.


CREATE INDEX
    query_2
ON
    accident_information
USING
    BTREE(first_road_class ASC NULLS LAST, accident_severity ASC NULLS LAST);


-- Σχετικές σελίδες:
-- https://www.postgresql.org/docs/current/indexes-ordering.html
-- https://www.postgresql.org/docs/current/indexes-multicolumn.html
